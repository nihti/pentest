# H6: Hunter2

* TOC
{toc}

# z) Tiivistä: The Art of Hacking: [Hacking User Credentials](https://learning.oreilly.com/videos/the-art-of/9780135767849/9780135767849-SPTT_06_01/)

  - Datan säilöminen ja siirtäminen vaativat molemmat suojaustoimenpiteitä
  - Low hanging fruit:
    - Default pws, Pw reuse, Pws like admin, root, etc, Simple pws 
    - MITM:
      - Against clear text protocols
      - Relay attacks - directly from device 
      - Against ciphered protocols
  - Brute Forcing: Medusa, THC-Hydra, Brutus, Metaspoit, Dirbuster, wfuzz
  - Enumerating users: SMB/NetBIOS/SAMBA, Nmap scripting engine, Metasploit auxilary/scanner/smb/smb_enumusers
  - PW säilöntä: 
    - Hashing: selkoteksti -> hashing algoritmi -> kryptattu viesti
  - PW kräkkäys helppoa koska: 
    - CPU:n lisäksi GPU:t käytössä
    - Heikot algoritmit
    - Sanakirjat (dictionaries) kuten sateenkaaritaulut (rainbow tables) ja tietomurrot joiden pohjalta laadittu salasanalistoja
    - Kuorman jakaminen CPU:den kesken
    - Windowsissa ei suolausta (salt) salasanoissa, toisin kuin Linuxissa 

## JtR: 

```bash
john # Näyttää JtR version ja optiot
john salasanalista.txt # aloittaa kräkkäyksen
john --show --format=nt salasanalista.txt # näyttää nt-formaattia olevat kräkätyt pwt  
john --rules --wordlist=/usr/share/john/password.lst --format=lm salasanalista.txt
```

  - Windowsissa entuudesta ollut hash LM mutta nykyisin NT, joka on turvallisempi, Windows käyttää molempia
  - LM jakaa salasanat kahtia ja tallentaa ne suurin kirjaimin
  - john.pot säilöö kaikki kräkätyt slsanat ja niiden hashit, john.rec missä lopetit kräkkäyksen

## Hashcat 
[https://learning.oreilly.com/videos/the-art-of/9780135767849/9780135767849-SPTT_06_06/](https://learning.oreilly.com/videos/the-art-of/9780135767849/9780135767849-SPTT_06_06/)

  - 
